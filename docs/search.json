[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SDG Data",
    "section": "",
    "text": "Overview\nThis book provides resources and datasets related to the United Nations Sustainable Development Goals. All original data sources are cited and linked, but these datasets are curated at varying levels of complexity for teaching purposes. The code for creating the dataset from the original data sources is included in code blocks in each chapter.\n\nSDG Data Portal\n\n\n\n\n\n\n\nWarning\n\n\n\nThis book is under development and only a few chapters have been started.",
    "crumbs": [
      "Overview"
    ]
  },
  {
    "objectID": "01-no-poverty.html",
    "href": "01-no-poverty.html",
    "title": "1  No Poverty",
    "section": "",
    "text": "1.1 Original Data\nSetup Codelibrary(tidyverse)\ntheme_set(theme_bw())\n\npip &lt;- read_csv(\"data/01/pip.csv\", show_col_types = FALSE)\nSource: World Bank (2025), Poverty and Inequality Platform (version 20250401_2021_01_02_PROD) [data set]. pip.worldbank.org. Accessed on 2025-08-05\nDownload all country data from https://pip.worldbank.org/poverty-calculator\nColumn names are below, with my best guess at the meaning for some columns. You can learn more at the methodology handbook.\nPlot Codecount(pip, region_name, country_name, reporting_year) |&gt;\n  count(region_name, reporting_year) |&gt;\n  ggplot(aes(y = fct_rev(region_name), x = reporting_year, fill = n)) +\n  geom_tile() +\n  scale_fill_viridis_c(limits = c(0, 30),\n    guide = guide_colourbar(\n      position = \"inside\", \n      nbin = 4, \n      display = \"rectangles\", \n      draw.ulim = TRUE\n    )) +\n  scale_x_continuous(breaks = seq(1960, 2030, 10)) +\n  labs(x = NULL,\n       y = NULL,\n       fill = NULL) +\n  theme(legend.position.inside = c(.06, .7),\n        legend.key.height = unit(0.4, \"cm\"),\n        legend.background = element_blank())\n\n\n\n\n\n\nFigure 1.1: Number of countries per region per year in the dataset",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>No Poverty</span>"
    ]
  },
  {
    "objectID": "01-no-poverty.html#original-data",
    "href": "01-no-poverty.html#original-data",
    "title": "1  No Poverty",
    "section": "",
    "text": "pip.csv\n\n\n\n\n\n\n\n\nCodebook\n\n\n\n\n\n\nregion_name\nregion_code: “SSA” “ECA” “OHI” “LAC” “SAS” “EAP” “MNA”\ncountry_name\ncountry_code: 3-letter country code\nreporting_year: 1963 - 2024\nreporting_level: “national”, “urban”, or “rural”\nsurvey_acronym\nsurvey_coverage\nsurvey_year\nwelfare_type\nsurvey_comparability\ncomparable_spell\npoverty_line\nheadcount: The poverty headcount ratio measures the proportion of the population that is counted as poor\npoverty_gap: The poverty gap index is a measure that adds up the extent to which individuals on average fall below the poverty line (i.e. the depth of poverty), and expresses it as a percentage of the poverty line.\npoverty_severity: The poverty severity index is a measure of the weighted sum of poverty gaps (as a proportion of the poverty line), where the weights are the proportionate poverty gaps themselves.\nwatts: The Watts index is an inequality-sensitive poverty measure\nmean: Average welfare per capita\nmedian: The median is the amount of welfare per capita that divides the distribution into two equal halves.\nmld: The mean log deviation belongs to the family of generalized entropy inequality measures\ngini: The Gini index ranges from 0 (perfect equality) to 1 (complete inequality)\npolarization: The Wolfson polarization index measures the extent to which the distribution of welfare is “spread out” and bi-modal.\ndecile1:decile10\ncpi: Consumer Price Index\nppp: Purchasing Power Parity\nreporting_pop\nreporting_gdp\nreporting_pce\nis_interpolated\ndistribution_type\nestimation_type\nspl\nspr\npg: The prosperity gap is the average factor by which incomes fall short of a prosperity standard of $28 per person per day (expressed in 2021 PPP dollars)\nestimate_type",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>No Poverty</span>"
    ]
  },
  {
    "objectID": "01-no-poverty.html#simplified-subsets",
    "href": "01-no-poverty.html#simplified-subsets",
    "title": "1  No Poverty",
    "section": "\n1.2 Simplified Subsets",
    "text": "1.2 Simplified Subsets\n\n1.2.1 GINI 2010\nThis data set provides the GINI index for each country, at the national reporting_level, in the reporting_year 2010. Where there is more than one survery per country, we choose the first.\nThis data set is good for distribution plots and descriptive analyses, grouped by world region.\n\nCode to create pip_gini_2010pip_gini_2010 &lt;- pip |&gt;\n  filter(reporting_year == 2010, \n         reporting_level == \"national\") |&gt;\n  filter(n() == 1, .by = country_name) |&gt;\n  select(region_name:reporting_year, reporting_level, gini)\n\n\n\npip_gini_2010.csv\n\n\n\n\nTable 1.1: The first rows of pip_gini_2010\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nregion_name\nregion_code\ncountry_name\ncountry_code\nreporting_year\nreporting_level\ngini\n\n\n\nEurope & Central Asia\nECA\nArmenia\nARM\n2010\nnational\n0.2999258\n\n\nOther High Income Countries\nOHI\nAustralia\nAUS\n2010\nnational\n0.3465673\n\n\nOther High Income Countries\nOHI\nAustria\nAUT\n2010\nnational\n0.3025166\n\n\nOther High Income Countries\nOHI\nBelgium\nBEL\n2010\nnational\n0.2837483\n\n\nSouth Asia\nSAS\nBangladesh\nBGD\n2010\nnational\n0.3213032\n\n\nEurope & Central Asia\nECA\nBulgaria\nBGR\n2010\nnational\n0.3565347\n\n\n\n\n\n\n\n\n\n\nPlot Codeggplot(pip_gini_2010, aes(x = fct_rev(region_name), \n                          y = gini, \n                          fill = region_name)) +\n  geom_violin(alpha = 0.5, \n              bounds = c(0, 1), \n              scale = \"width\",\n              show.legend = FALSE) +\n  scale_y_continuous(breaks = seq(0, 1, .1)) +\n  labs(x = NULL, y = \"GINI Index\") +\n  coord_flip()\n\n\n\n\n\n\nFigure 1.2: The distribution of wealth inequality across the world regions in 2010\n\n\n\n\n\n1.2.2 Welfare 2010\nThis data file provides the mean and median welfare per capita for all countries, at the national reporting_level, in the reporting_year 2010. Where there is more than one survey per country, we choose the first.\nIn combination with the Gini set above, it is good for teaching about data joining. The resulting set is good for plotting the relationship between two continuous variables and related descriptive and inferential statistics.\n\nCode to create pip_welfare_2010pip_welfare_2010 &lt;- pip |&gt;\n  filter(reporting_year == 2010, \n         reporting_level == \"national\") |&gt;\n  filter(n() == 1, .by = country_name) |&gt;\n  select(region_name:reporting_year, reporting_level, mean, median)\n\n\n\npip_welfare_2010.csv\n\n\n\n\nTable 1.2: The first rows of pip_welfare_2010\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nregion_name\nregion_code\ncountry_name\ncountry_code\nreporting_year\nreporting_level\nmean\nmedian\n\n\n\nEurope & Central Asia\nECA\nArmenia\nARM\n2010\nnational\n8.182075\n6.806526\n\n\nOther High Income Countries\nOHI\nAustralia\nAUS\n2010\nnational\n66.453958\n53.316423\n\n\nOther High Income Countries\nOHI\nAustria\nAUT\n2010\nnational\n75.037370\n65.371284\n\n\nOther High Income Countries\nOHI\nBelgium\nBEL\n2010\nnational\n63.008029\n55.914805\n\n\nSouth Asia\nSAS\nBangladesh\nBGD\n2010\nnational\n5.127794\n4.074886\n\n\nEurope & Central Asia\nECA\nBulgaria\nBGR\n2010\nnational\n19.126000\n16.019157\n\n\n\n\n\n\n\n\n\n\nPlot Codeinner_join(pip_gini_2010, pip_welfare_2010, \n           by = c(\"region_name\", \"region_code\", \"country_name\", \"country_code\", \"reporting_year\", \"reporting_level\")) |&gt;\n  ggplot(aes(x = gini, y = median, colour = region_name)) +\n  geom_point(alpha = 0.5) +\n  geom_smooth(method = lm, formula = y ~ x, se = F) +\n  scale_x_continuous(breaks = seq(0, 1, .1)) +\n  labs(x = \"GINI Index\", y = \"Median Welfare per Capita\", colour = NULL) +\n  scale_color_discrete(\n    guide = guide_legend(position = \"inside\")\n  ) +\n  theme(\n    legend.position.inside = c(.8, .75),\n    legend.background = element_blank(),\n    legend.key = element_blank()\n  )\n\n\n\n\n\n\nFigure 1.3: The relationship between the Gini index and median welfare per captia across world regions in 2010\n\n\n\n\n\n1.2.3 Gini for USA, UK and China\nThese three data files provide all of the available years of the GINI index for China, USA, and the UK (countries with many years of data).\nThis set is good for teaching about data merging and reshaping.\n\nCode to create pip_gini_china, pip_gini_usa, pip_gini_ukgini &lt;- pip |&gt;\n  filter(reporting_level == \"national\") |&gt;\n  select(region_name:reporting_year, reporting_level, gini)\n\npip_gini_usa &lt;- filter(gini, country_code == \"USA\")\npip_gini_china &lt;- filter(gini, country_name == \"China\")\npip_gini_uk &lt;- filter(gini, country_name == \"United Kingdom\")\n\n\n\npip_gini_china.csv\npip_gini_uk.csv\npip_gini_usa.csv\n\n\n\n\nTable 1.3: The first rows of pip_gini_china\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nregion_name\nregion_code\ncountry_name\ncountry_code\nreporting_year\nreporting_level\ngini\n\n\n\nEast Asia & Pacific\nEAP\nChina\nCHN\n1981\nnational\n0.2816410\n\n\nEast Asia & Pacific\nEAP\nChina\nCHN\n1984\nnational\n0.2710230\n\n\nEast Asia & Pacific\nEAP\nChina\nCHN\n1987\nnational\n0.2938596\n\n\nEast Asia & Pacific\nEAP\nChina\nCHN\n1990\nnational\n0.3222662\n\n\nEast Asia & Pacific\nEAP\nChina\nCHN\n1993\nnational\n0.3387780\n\n\nEast Asia & Pacific\nEAP\nChina\nCHN\n1996\nnational\n0.3522766\n\n\n\n\n\n\n\n\n\n\nPlot Codebind_rows(pip_gini_china, pip_gini_uk, pip_gini_usa) |&gt;\n  ggplot(aes(x = reporting_year, y = gini, color = country_name)) +\n  geom_point(alpha = 0.5) +\n  geom_line(show.legend = FALSE) +\n  scale_x_continuous(breaks = seq(1960, 2030, 10)) +\n  scale_color_manual(\n    values = c(\"#E5243B\", \"#4C9F38\", \"#19486A\"), \n    guide = guide_legend(position = \"inside\")\n  ) +\n  labs(x = NULL, y = \"Gini Index\", color = NULL) +\n  theme(\n    legend.position.inside = c(.15, .85),\n    legend.background = element_blank(),\n    legend.key = element_blank()\n  )\n\n\n\n\n\n\nFigure 1.4: The change in Gini index across time for China, USA and UK",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>No Poverty</span>"
    ]
  },
  {
    "objectID": "01-no-poverty.html#resources",
    "href": "01-no-poverty.html#resources",
    "title": "1  No Poverty",
    "section": "\n1.3 Resources",
    "text": "1.3 Resources\n\nOur World in Data: Poverty\nThe World Bank: Poverty and Inequality Platform",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>No Poverty</span>"
    ]
  },
  {
    "objectID": "02-zero-hunger.html",
    "href": "02-zero-hunger.html",
    "title": "2  Zero Hunger",
    "section": "",
    "text": "2.1 Simplified Subsets\nSource: The Global Hunger Index\nEach country’s GHI score is calculated based on a formula that combines four indicators that together capture the multidimensional nature of hunger:\nRead more about the methods and measures.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Zero Hunger</span>"
    ]
  },
  {
    "objectID": "02-zero-hunger.html#simplified-subsets",
    "href": "02-zero-hunger.html#simplified-subsets",
    "title": "2  Zero Hunger",
    "section": "",
    "text": "2.1.1 Clean Data\nThis dataset needs to be cleaned a bit before you can use it. This can be a good exercise for students, or you can use the pre-cleaned version below.\nSome of the things to fix are:\n\nthe desired data is on the third sheet\nthe original column names are not ideal\nthe spreadsheet has notes below the data\nuses “—” to represent missing values\ncontains text cells in numeric columns like “&lt;5”\nsome numeric values import like “35.700000000000003”\nthe country names are unlikely to match other data\n\nHere, we choose to use the value of 5 for all cells with “&lt;5”, but you might choose another solution.\n\nData Cleaning Codecn &lt;- c(\"country\", \"2000\", \"2008\", \"2016\", \"2024\")\nghi_2024 &lt;- readxl::read_xlsx(\"data/02/ghi-2024.xlsx\", \n                             sheet = 3, range = \"A4:E139\", \n                             col_names = cn, na = \"—\") |&gt;\n  pivot_longer(-country) |&gt;\n  mutate(value = ifelse(value == \"&lt;5\", \"5\", value),\n         value = as.numeric(value) |&gt; round(1)) |&gt;\n  pivot_wider()\n\n\nOne thing generative AI is pretty good at is helping with tedious rote tasks. We need to get the 3-letter country code for all of the countries. We can use the code below to get a quoted and comma-separated list of the country names, and ask genAI:\n\nGive me the 3-letter ISO country code for each country in this list. Return the data in R vector format, like c(‘AFG’, ALB’, …)\n\n\nGet Country Namespaste0(\"'\", ghi_2024$country, \"'\", collapse = \", \") |&gt; cat()\n\n'Afghanistan', 'Albania', 'Algeria', 'Angola', 'Argentina', 'Armenia', 'Azerbaijan', 'Bahrain', 'Bangladesh', 'Belarus', 'Benin', 'Bhutan', 'Bolivia (Plurinat. State of)', 'Bosnia & Herzegovina', 'Botswana', 'Brazil', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cabo Verde', 'Cambodia', 'Cameroon', 'Central African Republic', 'Chad', 'Chile', 'China', 'Colombia', 'Comoros', 'Congo (Republic of)', 'Costa Rica', 'Côte d'Ivoire', 'Croatia', 'Dem. Rep. of the Congo', 'Djibouti', 'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Eswatini', 'Ethiopia', 'Fiji', 'Gabon', 'Gambia', 'Georgia', 'Ghana', 'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hungary', 'India', 'Indonesia', 'Iran (Islamic Republic of)', 'Iraq', 'Jamaica', 'Jordan', 'Kazakhstan', 'Kenya', 'Korea (DPR)', 'Kuwait', 'Kyrgyzstan', 'Lao PDR', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Lithuania', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Mauritania', 'Mauritius', 'Mexico', 'Moldova (Rep. of)', 'Mongolia', 'Montenegro', 'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nepal', 'Nicaragua', 'Niger', 'Nigeria', 'North Macedonia', 'Oman', 'Pakistan', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Qatar', 'Romania', 'Russian Federation', 'Rwanda', 'Saudi Arabia', 'Senegal', 'Serbia', 'Sierra Leone', 'Slovakia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Sudan', 'Sri Lanka', 'Sudan', 'Suriname', 'Syrian Arab Republic', 'Tajikistan', 'Tanzania (United Rep. of)', 'Thailand', 'Timor-Leste', 'Togo', 'Trinidad & Tobago', 'Tunisia', 'Türkiye', 'Turkmenistan', 'Uganda', 'Ukraine', 'United Arab Emirates', 'Uruguay', 'Uzbekistan', 'Venezuela (Boliv. Rep. of)', 'Viet Nam', 'Yemen', 'Zambia', 'Zimbabwe'\n\n\nChatGPT returned the following, which I added as a new column to the data:\n\nAdd Country Codesghi_2024$country_code &lt;- c(\n  'AFG', 'ALB', 'DZA', 'AGO', 'ARG', 'ARM', 'AZE', 'BHR', 'BGD', 'BLR', 'BEN', 'BTN',\n  'BOL', 'BIH', 'BWA', 'BRA', 'BGR', 'BFA', 'BDI', 'CPV', 'KHM', 'CMR', 'CAF', 'TCD',\n  'CHL', 'CHN', 'COL', 'COM', 'COG', 'CRI', 'CIV', 'HRV', 'COD', 'DJI', 'DOM', 'ECU',\n  'EGY', 'SLV', 'GNQ', 'ERI', 'EST', 'SWZ', 'ETH', 'FJI', 'GAB', 'GMB', 'GEO', 'GHA',\n  'GTM', 'GIN', 'GNB', 'GUY', 'HTI', 'HND', 'HUN', 'IND', 'IDN', 'IRN', 'IRQ', 'JAM',\n  'JOR', 'KAZ', 'KEN', 'PRK', 'KWT', 'KGZ', 'LAO', 'LVA', 'LBN', 'LSO', 'LBR', 'LBY',\n  'LTU', 'MDG', 'MWI', 'MYS', 'MDV', 'MLI', 'MRT', 'MUS', 'MEX', 'MDA', 'MNG', 'MNE',\n  'MAR', 'MOZ', 'MMR', 'NAM', 'NPL', 'NIC', 'NER', 'NGA', 'MKD', 'OMN', 'PAK', 'PAN',\n  'PNG', 'PRY', 'PER', 'PHL', 'QAT', 'ROU', 'RUS', 'RWA', 'SAU', 'SEN', 'SRB', 'SLE',\n  'SVK', 'SLB', 'SOM', 'ZAF', 'SSD', 'LKA', 'SDN', 'SUR', 'SYR', 'TJK', 'TZA', 'THA',\n  'TLS', 'TGO', 'TTO', 'TUN', 'TUR', 'TKM', 'UGA', 'UKR', 'ARE', 'URY', 'UZB', 'VEN',\n  'VNM', 'YEM', 'ZMB', 'ZWE'\n)\n\n\nSince I never blindly trust genAI, I’m going to sense check this against the country codes from a trusted source, and visually inspect all of the instances where the country in ghi_2024 doesn’t match the country name.\n\nCheck Country Codescountries &lt;- read_csv(\"data/countries.csv\", show_col_types = FALSE)\n\ncheck &lt;- left_join(ghi_2024, countries, by = c(country_code = \"alpha-3\")) |&gt;\n  select(country, country_code, name)\n\nfilter(check, country != name)\n\n\n\n\n\n\n\n\n\ncountry\ncountry_code\nname\n\n\n\nBolivia (Plurinat. State of)\nBOL\nBolivia, Plurinational State of\n\n\nBosnia & Herzegovina\nBIH\nBosnia and Herzegovina\n\n\nCongo (Republic of)\nCOG\nCongo\n\n\nDem. Rep. of the Congo\nCOD\nCongo, Democratic Republic of the\n\n\nIran (Islamic Republic of)\nIRN\nIran, Islamic Republic of\n\n\nKorea (DPR)\nPRK\nKorea, Democratic People’s Republic of\n\n\nLao PDR\nLAO\nLao People’s Democratic Republic\n\n\nMoldova (Rep. of)\nMDA\nMoldova, Republic of\n\n\nTanzania (United Rep. of)\nTZA\nTanzania, United Republic of\n\n\nTrinidad & Tobago\nTTO\nTrinidad and Tobago\n\n\nVenezuela (Boliv. Rep. of)\nVEN\nVenezuela, Bolivarian Republic of\n\n\n\n\n\n\nYou can see that they’re all just alternative ways of writing the country name.\nThis data set is good for practicing data reshaping from wide to long. You can also join it with data from other sets that have 3-letter ISO country codes.\n\nghi-2024.csv\n\n\n\n\nTable 2.1: The first rows of ghi_2024\n\n\n\n\n\ncountry\n2000\n2008\n2016\n2024\ncountry_code\n\n\n\nAfghanistan\n49.6\n35.7\n27.1\n30.8\nAFG\n\n\nAlbania\n16.0\n15.5\n6.2\n7.9\nALB\n\n\nAlgeria\n14.5\n11.0\n8.5\n6.7\nDZA\n\n\nAngola\n63.8\n42.7\n25.9\n26.6\nAGO\n\n\nArgentina\n6.6\n5.4\n5.2\n6.6\nARG\n\n\nArmenia\n19.2\n11.7\n6.4\n5.1\nARM\n\n\n\n\n\n\n\n\n\n\n2.1.2 Long format\nThe original data is in wide format, with one column per year. We can also provide the data in long format. It is almost always better to have data in long format for things like wrangling and plotting.\n\nCode to create ghi_longghi_long &lt;- ghi_2024 |&gt;\n  pivot_longer(-c(country, country_code), \n               names_to = \"year\",\n               names_transform = as.integer,\n               values_to = \"ghi\")\n\n\n\nghi_long.csv\n\n\n\n\nTable 2.2: The first rows of ghi_long\n\n\n\n\n\ncountry\ncountry_code\nyear\nghi\n\n\n\nAfghanistan\nAFG\n2000\n49.6\n\n\nAfghanistan\nAFG\n2008\n35.7\n\n\nAfghanistan\nAFG\n2016\n27.1\n\n\nAfghanistan\nAFG\n2024\n30.8\n\n\nAlbania\nALB\n2000\n16.0\n\n\nAlbania\nALB\n2008\n15.5\n\n\n\n\n\n\n\n\n\n\nPlot Codeggplot(ghi_long, aes(x = as.factor(year), y = ghi)) +\n  geom_violin(fill = \"#DDA63A\") +\n  scale_y_continuous(breaks = seq(0, 100, 10), expand = c(0,0)) +\n  coord_cartesian(ylim = c(0, 70)) +\n  labs(x = NULL, y = \"Global Hunger Index\")\n\n\n\n\n\n\nFigure 2.1: The distribution of the global hunger index for four years\n\n\n\n\n\n2.1.3 Indicators\nThe second sheet of the excel file contains indicators used to calculate the GHI. This also needs a fair bit of cleaning.\n\nCodecn &lt;- c(\"country\", \n        \"undernourishment_2000\", \n        \"undernourishment_2008\", \n        \"undernourishment_2016\", \n        \"undernourishment_2024\", \n        \"wasting_2000\", NA,\n        \"wasting_2008\",  NA,\n        \"wasting_2016\",  NA,\n        \"wasting_2024\",  NA,\n        \"stunting_2000\",  NA,\n        \"stunting_2008\",  NA,\n        \"stunting_2016\",  NA,\n        \"stunting_2024\",  NA,\n        \"mortality_2000\", \n        \"mortality_2008\", \n        \"mortality_2016\", \n        \"mortality_2024\")\nct &lt;- c(\"text\",\n        rep(\"text\", 4),\n        rep(c(\"text\", \"skip\"), 8),\n        rep(\"text\", 4))\n  \nghi_indicators &lt;- readxl::read_xlsx(\n  \"data/02/ghi-2024.xlsx\",\n  sheet = 2, range = \"B4:Z139\", na = \"—\", \n  col_names = cn, col_types = ct) |&gt;\n  pivot_longer(-country) |&gt;\n  separate(name, c(\"indicator\", \"year\")) |&gt;\n  mutate(value = ifelse(value == \"&lt; 2.5\", 2.5, value),\n         value = as.numeric(value) |&gt; round(1)) |&gt;\n  pivot_wider(names_from = indicator)\n\n\nThis data set is in intermediate format (long for years and wide for measures) and is good for teaching about data reshaping and multivariate correlations.\n\nghi_indicators.csv\n\n\n\n\nTable 2.3: The first rows of ghi_indicators\n\n\n\n\n\ncountry\nyear\nundernourishment\nwasting\nstunting\nmortality\n\n\n\nAfghanistan\n2000\n46.0\n8.9\n54.4\n13.2\n\n\nAfghanistan\n2008\n25.1\n7.2\n50.8\n9.6\n\n\nAfghanistan\n2016\n20.5\n5.1\n38.2\n7.0\n\n\nAfghanistan\n2024\n30.4\n3.6\n44.6\n5.8\n\n\nAlbania\n2000\n4.9\n6.5\n32.8\n2.7\n\n\nAlbania\n2008\n7.4\n9.6\n23.2\n1.6\n\n\n\n\n\n\n\n\n\n\nPlot Codeggplot(ghi_indicators, aes(x = undernourishment, y = mortality)) +\n  facet_wrap(~ year) +\n  geom_point(alpha = 0.5) +\n  theme(strip.background = element_rect(fill = \"#DDA63A\"))\n\n\n\n\n\n\nFigure 2.2: The relationship between undernourishment and child mortality for 4 years of data across all countries",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Zero Hunger</span>"
    ]
  },
  {
    "objectID": "02-zero-hunger.html#resources",
    "href": "02-zero-hunger.html#resources",
    "title": "2  Zero Hunger",
    "section": "\n2.2 Resources",
    "text": "2.2 Resources\n\nOur World in Data: Hunger and Undernourishment\nThe Global Hunger Index",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Zero Hunger</span>"
    ]
  },
  {
    "objectID": "03-good-health.html",
    "href": "03-good-health.html",
    "title": "3  Good Health and Well-Being",
    "section": "",
    "text": "3.1 Original Data\nSource: WHO/UNICEF Estimates of National Immunization Coverage (WUENIC), 2023 Revision (completed 15 July 2025), data from 1980-2024.\nDownloaded data for all countries and all antigens, from 1980 to 2024 for measles and rubella on 2025-08-07.\nYou can download more data about coverage of other vaccinations at immunizationdata.who.int.\nPlot Codeggplot(rubella, aes(x = YEAR, y = COVERAGE, colour = COVERAGE_CATEGORY)) +\n  geom_smooth() +\n  scale_color_manual(values = c(\"#DD1367\", \"#00689D\", \"#FD6925\"),\n                     guide = guide_legend(position = \"inside\")) +\n  coord_cartesian(ylim = c(0, 100)) +\n  labs(x = NULL, color = NULL, y = \"Percent Coverage\") +\n  theme(legend.position.inside = c(.8, .2),\n        legend.background = element_blank())\n\n\n\n\n\n\nFigure 3.1: The mean rubella vaccination coverage across time for the three categories of estimate",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Good Health and Well-Being</span>"
    ]
  },
  {
    "objectID": "03-good-health.html#original-data",
    "href": "03-good-health.html#original-data",
    "title": "3  Good Health and Well-Being",
    "section": "",
    "text": "measles.xlsx\nrubella.xlsx\n\n\n\n\n\n\n\nCodebook\n\n\n\n\n\n\nGROUP: All “COUNTRIES”\nCODE: 3-letter ISO country code\nNAME: Country name\nYEAR: 1980-2024\nANTIGEN: “MCV1”, “MCV2”, or “RCV1”\nANTIGEN_DESCRIPTION: Longer description of ANTIGEN\nCOVERAGE_CATEGORY: “ADMIN”, “OFFICIAL” or “WUENIC”\nCOVERAGE_CATEGORY_DESCRIPTION: Longer description of COVERAGE_CATEGORY\nTARGET_NUMBER: Number of infants in the target population\nDOSES: How many doses were administered\nCOVERAGE: The percentage in the target population who have received one (RCV1, MCV1) or two (MCV2) doses of antigen-containing vaccine in a given year.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Good Health and Well-Being</span>"
    ]
  },
  {
    "objectID": "03-good-health.html#simplified-subsets",
    "href": "03-good-health.html#simplified-subsets",
    "title": "3  Good Health and Well-Being",
    "section": "\n3.2 Simplified Subsets",
    "text": "3.2 Simplified Subsets\n\n3.2.1 Coverage\nCoverage categories are Administrative, Official, or WHO/UNICEF Estimates (wuenic). This set removes redundant columns and simplifies the column names, making them easier to join to data such as that in Chapter 1.\n\nCode to create measles_coverage and rubella_coveragemeasles_coverage &lt;- measles |&gt;\n  select(country_code = CODE,\n         country_name = NAME,\n         year = YEAR,\n         antigen = ANTIGEN,\n         coverage = COVERAGE,\n         cat = COVERAGE_CATEGORY) |&gt;\n  mutate(cat = tolower(cat)) |&gt;\n  pivot_wider(names_from = cat, values_from = coverage)\n  \nrubella_coverage &lt;- rubella |&gt;\n  select(country_code = CODE,\n         country_name = NAME,\n         year = YEAR,\n         antigen = ANTIGEN,\n         coverage = COVERAGE,\n         cat = COVERAGE_CATEGORY) |&gt;\n  mutate(cat = tolower(cat)) |&gt;\n  pivot_wider(names_from = cat, values_from = coverage)\n\n\nThese data sets are good for practicing data merging and dealing with missing data.\n\nmeasles_coverage.csv\nrubella_coverage.csv\n\n\n\n\nTable 3.1: The first rows of measles_coverage\n\n\n\n\n\ncountry_code\ncountry_name\nyear\nantigen\nadmin\nofficial\nwuenic\n\n\n\nAFG\nAfghanistan\n2024\nMCV2\n61.73\n62.00\n44\n\n\nAFG\nAfghanistan\n2024\nMCV1\n78.26\n78.00\n55\n\n\nALB\nAlbania\n2024\nMCV1\n80.73\n80.73\n81\n\n\nALB\nAlbania\n2024\nMCV2\n91.82\n91.82\n92\n\n\nDZA\nAlgeria\n2024\nMCV1\n93.91\nNA\n94\n\n\nDZA\nAlgeria\n2024\nMCV2\n90.25\nNA\n90\n\n\n\n\n\n\n\n\n\n\nPlot Codegeom &lt;- geom_point(alpha = 0.05, na.rm = TRUE, color = \"#4C9F38\")\n\nmcv1 &lt;- filter(measles_coverage, antigen == \"MCV1\")\n\nao &lt;- ggplot(mcv1, aes(x = admin, y = official)) +\n  geom +\n  coord_cartesian(xlim = c(0, 150), ylim = c(0, 150)) +\n  labs(x = \"Administrative\",\n       y = \"Official\")\n\naw &lt;- ggplot(mcv1, aes(x = wuenic, y = admin)) +\n  geom +\n  coord_cartesian(xlim = c(0, 100), ylim = c(0, 150)) +\n  labs(x = \"Estimated\",\n       y = \"Administrative\")\n\now &lt;- ggplot(mcv1, aes(x = wuenic, y = official)) +\n  geom +\n  coord_cartesian(xlim = c(0, 100), ylim = c(0, 150)) +\n  labs(x = \"Estimated\",\n       y = \"Official\")\n\ndesign &lt;- \"\n  1112\n  1112\n  1113\n  1113\n\"\n\nao + aw + ow + plot_layout(design = design)\n\n\n\n\n\n\nFigure 3.2: The relationships among administrative, offical, and WHO/UNICEF estimates for measles",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Good Health and Well-Being</span>"
    ]
  },
  {
    "objectID": "03-good-health.html#resources",
    "href": "03-good-health.html#resources",
    "title": "3  Good Health and Well-Being",
    "section": "\n3.3 Resources",
    "text": "3.3 Resources\n\nOur World in Health: Vaccination\nWHO Immunization Data",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Good Health and Well-Being</span>"
    ]
  },
  {
    "objectID": "04-quality-education.html",
    "href": "04-quality-education.html",
    "title": "4  Quality Education",
    "section": "",
    "text": "4.1 Original Data\nIndicator 4.3.1, Participation rate of youth and adults in formal and non-formal education and training in the previous 12 months, by sex.\nData\nCodeedu_data &lt;- read_csv(\"data/04/4.3.1/data.csv\", guess_max = 2e5) \nedu_indicators &lt;- read_csv(\"data/04/4.3.1/indicators.csv\")\nTable 4.1: The first rows of edu_data\n\n\n\n\n\nindicatorId\ngeoUnit\nyear\nvalue\nqualifier\nmagnitude\n\n\n\nPRYA.12MO.AG15T24.F\nAFG\n2014\n20.67723\nUIS_EST\nNA\n\n\nPRYA.12MO.AG15T24.F\nAFG\n2017\n18.43835\nUIS_EST\nNA\n\n\nPRYA.12MO.AG15T24.F\nAFG\n2020\n12.90209\nUIS_EST\nNA\n\n\nPRYA.12MO.AG15T24.F\nAFG\n2021\n18.88796\nUIS_EST\nNA\n\n\nPRYA.12MO.AG15T24.F\nAGO\n2004\n46.00000\nUIS_EST\nNA\n\n\nPRYA.12MO.AG15T24.F\nAGO\n2009\n40.10000\nUIS_EST\nNA\nTable 4.2: The first row of edu_indicators\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nindicatorId\nname\ntheme\nlastDataUpdate\nlastDataUpdateDescription\ndataAvailability.totalRecordCount\ndataAvailability.timeLine.min\ndataAvailability.timeLine.max\ndataAvailability.geoUnits.types\ndisaggregations\nglossaryTerms\n\n\nPRYA.12MO.AG15T24.F\nParticipation rate of youth and adults in formal and non-formal education and training in the previous 12 months, 15-24 years old, female (%)\nEDUCATION\n2025-02-23\nFebruary 2025 Data Release\n2951\n1976\n2024\nREGIONAL, NATIONAL\nSex:Female, AgeRange:15-24\n3068",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Quality Education</span>"
    ]
  },
  {
    "objectID": "04-quality-education.html#simplified-subsets",
    "href": "04-quality-education.html#simplified-subsets",
    "title": "4  Quality Education",
    "section": "\n4.2 Simplified Subsets",
    "text": "4.2 Simplified Subsets\n\n4.2.1 Joined Data for Countries\nThe UNESCO data comes in a particular format that requires some joining to make sense of it. The values are all “Participation rate of youth and adults in formal and non-formal education and training in the previous 12 months”, disaggregated by sex and age range.\nThe data include both countries and aggregated regions, so we will filter this set to just individual countries with 3-letter geoUnits.\n\nCodesex_levels &lt;- c(\"Sex:Female\", \"Sex:Male\")\nsex_labels &lt;- c(\"female\", \"male\")\nage_levels &lt;- c(\"AgeRange:15-24\", \"AgeRange:25-54\", \"AgeRange:55-64\")\nage_labels &lt;- c(\"15-24\", \"25-54\", \"55-64\")\n\nedu_country &lt;- left_join(edu_data, edu_indicators, by = \"indicatorId\") |&gt;\n  filter(nchar(geoUnit) == 3) |&gt;\n  select(\n    country_code = geoUnit,\n    year,\n    rate = value,\n    disaggregations\n  ) |&gt;\n  separate(disaggregations, c(\"sex\", \"age_range\"), sep = \", \") |&gt;\n  mutate(sex = factor(sex, sex_levels, sex_labels),\n         age_range = factor(age_range, age_levels, age_labels))\n\n\n\nedu_country.csv\n\n\n\n\nTable 4.3: The first rows of edu_country\n\n\n\n\n\ncountry_code\nyear\nrate\nsex\nage_range\n\n\n\nAFG\n2014\n20.67723\nfemale\n15-24\n\n\nAFG\n2017\n18.43835\nfemale\n15-24\n\n\nAFG\n2020\n12.90209\nfemale\n15-24\n\n\nAFG\n2021\n18.88796\nfemale\n15-24\n\n\nAGO\n2004\n46.00000\nfemale\n15-24\n\n\nAGO\n2009\n40.10000\nfemale\n15-24\n\n\n\n\n\n\n\n\n\n\nPlot Codeedu_country |&gt;\n  summarise(rate = mean(rate, na.rm = TRUE), .by = c(country_code, age_range, year)) |&gt;\n  filter(age_range == \"15-24\") |&gt;\n  ggplot(aes(x = year, y = fct_rev(country_code), fill = rate)) +\n  geom_tile() +\n  scale_fill_viridis_c(limits = c(0, 100)) +\n  guides(fill = guide_colorbar(position = \"inside\")) +\n  labs(x = NULL, y = NULL, fill = NULL) +\n  theme(legend.position.inside = c(.07, .96))\n\n\n\n\n\n\nFigure 4.1: The proportion of youth ages 15-24 participating in formal and non-formal education and training in the previous 12 months.\n\n\n\n\n\n4.2.2 Complete Data\nThere is a lot of missing data in the set above. This set is limited to countries that have data for every year between 2005 and 2024.\n\nCodeedu_complete &lt;- edu_country |&gt;\n  filter(year %in% 2005:2024) |&gt;\n  filter(n() == 6, .by = c(country_code, year)) |&gt;\n  filter(n() &gt;= 6 * 19, .by = country_code)\n\n\n\nedu_complete.csv\n\n\n\n\nTable 4.4: The first rows of edu_complete\n\n\n\n\n\ncountry_code\nyear\nrate\nsex\nage_range\n\n\n\nAUT\n2005\n63.80000\nfemale\n15-24\n\n\nAUT\n2006\n64.10000\nfemale\n15-24\n\n\nAUT\n2007\n64.40000\nfemale\n15-24\n\n\nAUT\n2008\n65.00000\nfemale\n15-24\n\n\nAUT\n2009\n64.70000\nfemale\n15-24\n\n\nAUT\n2010\n61.29137\nfemale\n15-24\n\n\n\n\n\n\n\n\n\n\nPlot Codeanim &lt;- edu_complete |&gt;\n  pivot_wider(names_from = sex, values_from = rate) |&gt;\n  ggplot(aes(x = female, y = male)) +\n  geom_abline(slope = 1, intercept = 0, color = \"grey\") +\n  geom_point(color = \"#C5192D\", alpha = 0.2) +\n  facet_wrap(~age_range) +\n  coord_cartesian(xlim = c(0, 100), ylim = c(0, 100)) +\n  labs(x = \"Female participation\", y = \"Male participation\",\n       title = \"Year: {floor(frame_time)}\") +\n  theme(strip.background = element_rect(fill = \"#C5192D\")) +\n  transition_time(year) +\n  shadow_wake(wake_length = 0.1)\n\nanim_save(\"images/edu_complete.gif\", \n          animation = anim,\n          nframes = 100, fps = 12, \n          start_pause = 5, end_pause = 5, \n          width = 6, height = 3, \n          units = \"in\", res = 150,\n          renderer = gifski_renderer())\n\n\n\n\n\n\n\nFigure 4.2: The relationship between male and female participnation in education, by age group and year.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Quality Education</span>"
    ]
  },
  {
    "objectID": "04-quality-education.html#resources",
    "href": "04-quality-education.html#resources",
    "title": "4  Quality Education",
    "section": "\n4.3 Resources",
    "text": "4.3 Resources\n\nUNESCO SDG Data",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Quality Education</span>"
    ]
  },
  {
    "objectID": "05-gender-equality.html",
    "href": "05-gender-equality.html",
    "title": "5  Gender Equality",
    "section": "",
    "text": "5.1 Original Data\nIPU Parline holds longitudinal data on national parliaments. We accessed data on the percentage of women in the upper house from 1945 to 2025, in 5-year increments. Each year has to be downloaded as a separate file, so we provide a zip file of them below.\nTable 5.1: The first 15 lines of each data file give some metadata.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Gender Equality</span>"
    ]
  },
  {
    "objectID": "05-gender-equality.html#original-data",
    "href": "05-gender-equality.html#original-data",
    "title": "5  Gender Equality",
    "section": "",
    "text": "ipu.zip",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Gender Equality</span>"
    ]
  },
  {
    "objectID": "05-gender-equality.html#simplified-subsets",
    "href": "05-gender-equality.html#simplified-subsets",
    "title": "5  Gender Equality",
    "section": "\n5.2 Simplified Subsets",
    "text": "5.2 Simplified Subsets\n\n5.2.1 Import Multiple Files\nThese files are a little tricky to import. You have to download a separate file for each year, and they all start with 15 rows of metadata.\nThe code below imports all of the files, fixes some column type problems (e.g., Status is NA for most files, but “Suspended” on 9 occasions, so you need to specify it should be a text column for all files). The Year column is blank for all entries, so I’ve skipped it and reconstructed the year from the filename ID. Finally, I used the {janitor} package to clean up the names.\n\nCodena_values &lt;- c(\"-\", \"\", \n               \"No information available\", \n               \"Not applicable\")\n\nparliament &lt;- list.files(\"data/05/ipu\", \"\\\\.csv\", full.names = TRUE) |&gt;\n  read_csv(id = \"filename\", \n           skip = 15, \n           na = na_values, \n           col_types = \"ccccn-DDccc\") |&gt;\n  # get year from filename\n  separate(filename, c(NA, NA, \"year\", NA, NA, NA), \n           sep = \"--\", convert = TRUE) |&gt;\n  janitor::clean_names()\n\n\n\nparliament.csv\n\n\n\n\nTable 5.2: The first rows of parliament\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nyear\niso_code\ncountry\nchamber\nstatus\npercentage_of_women\ndate_from\ndate_to\nnotes\nstructure\nchamber_type\n\n\n\n1945\nAF\nAfghanistan\nHouse of Elders\nNA\nNA\nNA\nNA\nNA\nBicameral\nUpper chamber\n\n\n1945\nDZ\nAlgeria\nCouncil of the Nation\nNA\nNA\nNA\nNA\nNA\nBicameral\nUpper chamber\n\n\n1945\nAG\nAntigua and Barbuda\nSenate\nNA\nNA\nNA\nNA\nNA\nBicameral\nUpper chamber\n\n\n1945\nAR\nArgentina\nSenate\nNA\nNA\nNA\nNA\nNA\nBicameral\nUpper chamber\n\n\n1945\nAU\nAustralia\nSenate\nNA\n2.8\n1945-01-01\n1945-12-31\nNA\nBicameral\nUpper chamber\n\n\n1945\nAT\nAustria\nFederal Council\nNA\n0.0\n1945-01-01\n1948-12-31\nNA\nBicameral\nUpper chamber\n\n\n\n\n\n\n\n\n\n\nPlot Codeuk &lt;- filter(parliament, iso_code == \"GB\")\n\nggplot(parliament, aes(x = year, y = percentage_of_women, group = iso_code)) +\n  geom_hline(yintercept = 50, color = \"grey\") +\n  geom_line(show.legend = FALSE, color = \"grey40\", na.rm = TRUE) +\n  geom_line(data = uk, linewidth = 1, color = \"#FF3A21\", na.rm = TRUE) +\n  coord_cartesian(ylim = c(0,100)) +\n  scale_x_continuous(breaks = seq(1945, 2025, 5), minor_breaks = NULL) +\n  scale_y_continuous(breaks = seq(0, 100, 10)) +\n  labs(x = NULL, y = \"Percent Women in the Upper House\")\n\n\n\n\n\n\nFigure 5.1: The percentage of women in the upper house of parliament for 86 countries from 1945 to 2025. The UK is highlighted in red.\n\n\n\n\n\n5.2.2 Simplified\nThe dataset has some columns we don’t really need, and uses 2-character ISO country codes, so we’ll simplify it by including only the most relevant columns, adding 3-letter codes, and removing rows with no data.\n\nCodecount(parliament, structure, chamber_type)\n\n\nTable 5.3: We probably don’t need to know whether the parliaments are the upper chamber in a bicameral system or the only chamber in a unicameral system.\n\n\n\n\n\nstructure\nchamber_type\nn\n\n\n\nBicameral\nUpper chamber\n1351\n\n\nUnicameral\nNA\n103\n\n\nNA\nUpper chamber\n8\n\n\n\n\n\n\n\n\n\n\nCodecountries &lt;- read_csv(\"data/countries.csv\") |&gt;\n  select(iso_code = `alpha-2`, country_code = `alpha-3`)\n\nparliament_simple &lt;- parliament |&gt;\n  left_join(countries, by = \"iso_code\") |&gt;\n  select(country_name = country,\n         country_code,\n         year,\n         pcnt_women = percentage_of_women) |&gt;\n  filter(!is.na(pcnt_women))\n\n\n\nparliament_simple.csv\n\n\n\n\nTable 5.4: The first rows of parliament_simple\n\n\n\n\n\ncountry_name\ncountry_code\nyear\npcnt_women\n\n\n\nAustralia\nAUS\n1945\n2.8\n\n\nAustria\nAUT\n1945\n0.0\n\n\nBrazil\nBRA\n1945\n0.0\n\n\nCanada\nCAN\n1945\n2.5\n\n\nChile\nCHL\n1945\n0.0\n\n\nArgentina\nARG\n1950\n0.0\n\n\n\n\n\n\n\n\n\n\nPlot Codeparliament_simple |&gt;\n  mutate(mean = mean(pcnt_women), \n         n_countries = n(),\n         .by = year) |&gt;\n  ggplot(aes(x = factor(year), y = pcnt_women, fill = mean)) +\n  geom_hline(yintercept = 50, color = \"grey\") +\n  geom_violin(scale = \"width\") +\n  geom_text(aes(label = n_countries), y = -2.5, color = \"grey30\") +\n  stat_summary(fun.data = mean_se, geom = \"point\") +\n  coord_cartesian(ylim = c(0,100)) +\n  scale_y_continuous(breaks = seq(0, 100, 10)) +\n  labs(x = NULL, y = \"Percent Women in the Upper House\") +\n  scale_fill_viridis_c(guide = NULL)\n\n\n\n\n\n\nFigure 5.2: The distribution of the percentage of women in the upper house of parliament across up to 86 countries from 1945 to 2025. The number below each violin is the number of countries with data from that year.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Gender Equality</span>"
    ]
  },
  {
    "objectID": "05-gender-equality.html#resources",
    "href": "05-gender-equality.html#resources",
    "title": "5  Gender Equality",
    "section": "\n5.3 Resources",
    "text": "5.3 Resources\n\n[IPU](https://data.ipu.org/",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Gender Equality</span>"
    ]
  },
  {
    "objectID": "06-clean-water.html",
    "href": "06-clean-water.html",
    "title": "\n6  Clean Water and Sanitation\n",
    "section": "",
    "text": "6.1 Original Data\nWHO/UNICEF Joint Monitoring Programme for Water Supply, Sanitation and Hygiene (JMP) (2024) – with major processing by Our World in Data)",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Clean Water and Sanitation</span>"
    ]
  },
  {
    "objectID": "06-clean-water.html#original-data",
    "href": "06-clean-water.html#original-data",
    "title": "\n6  Clean Water and Sanitation\n",
    "section": "",
    "text": "access-drinking-water-stacked.csv\n\n\n\n\n\n\n\nCodebook\n\n\n\n\n\n\nEntity: Country\nCode: 3-letter ISO country code\nYear\nShare of the population using safely managed drinking water services: safe\nShare of the population using only basic drinking water services: basic\nShare of the population using limited drinking water services: limited\nShare of the population using unimproved drinking water services: unimproved\nShare of the population using surface water as a primary source of drinking water: surface",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Clean Water and Sanitation</span>"
    ]
  },
  {
    "objectID": "06-clean-water.html#simplified-subsets",
    "href": "06-clean-water.html#simplified-subsets",
    "title": "\n6  Clean Water and Sanitation\n",
    "section": "\n6.2 Simplified Subsets",
    "text": "6.2 Simplified Subsets\n\n6.2.1 Long Countries\nA data set with long structure and short column names consistent with other data sets in this book, limited to individual countries.\n\nCodeaccess_levels &lt;- c(\"safe\", \"basic\", \"limited\", \"unimproved\", \"surface\")\n\nwater_countries &lt;- read_csv(\n  \"data/06/access-drinking-water/access-drinking-water-stacked.csv\", \n  col_names = c(\"country_name\", \"country_code\", \"year\", access_levels),\n  skip = 1, show_col_types = FALSE\n) |&gt; \n  filter(!is.na(country_code)) |&gt;\n  pivot_longer(safe:surface, names_to = \"access\", values_to = \"pcnt\") |&gt;\n  mutate(access = factor(access, access_levels),\n         pcnt = round(pcnt, 2),\n         country_code = gsub(\"OWID_\", \"\", country_code))\n\n\nThis set is good for dealing with categorical columns with a clear order that isn’t the default on import.\n\nwater_countries.csv\n\n\n\n\nTable 6.1: The first rows of water_countries\n\n\n\n\n\ncountry_name\ncountry_code\nyear\naccess\npcnt\n\n\n\nAfghanistan\nAFG\n2000\nsafe\n11.09\n\n\nAfghanistan\nAFG\n2000\nbasic\n16.35\n\n\nAfghanistan\nAFG\n2000\nlimited\n3.30\n\n\nAfghanistan\nAFG\n2000\nunimproved\n43.86\n\n\nAfghanistan\nAFG\n2000\nsurface\n25.40\n\n\nAfghanistan\nAFG\n2001\nsafe\n11.11\n\n\n\n\n\n\n\n\n\n\nCodeaccess_col &lt;- c(\"#26BDE2\", \"#4C9F38\", \"#DDA63A\", \"#FD6925\", \"#DD1367\")\n\nwater_countries |&gt; \n  # narorw to complete entries\n  filter(year == 2022) |&gt;\n  #filter(sum(pcnt) &gt; 99, .by = c(country_name)) |&gt;\n  mutate(quantile = case_when(row_number()&lt;= n()/4 ~ 1,\n                              row_number()&lt;= 2*n()/4 ~ 2,\n                              row_number()&lt;= 3*n()/4 ~ 3,\n                              .default = 4)) |&gt;\n  ggplot(aes(x = fct_rev(country_code), y = pcnt, fill = access)) +\n  facet_wrap(~quantile, scales = \"free\", ncol = 4) +\n  geom_col() +\n  coord_flip() +\n  scale_fill_manual(values = access_col) +\n  labs(x = NULL, y = NULL) +\n  theme(legend.position = \"top\",\n        strip.background = element_blank(),\n        strip.text = element_blank())\n\n\n\n\n\n\nFigure 6.1: Water access by country for the most recent year in the data set (2022)\n\n\n\n\n\n6.2.2 Water Regions\nThe data are also grouped by WHO and SDG regions, and by development levels. This set includes just those regions, with region_type as the grouping (WHO, SDG, DEV).\n\nCodeaccess_levels &lt;- c(\"safe\", \"basic\", \"limited\", \"unimproved\", \"surface\")\n\nwater_regions &lt;- read_csv(\n  \"data/06/access-drinking-water/access-drinking-water-stacked.csv\", \n  col_names = c(\"region_name\", \"country_code\", \"year\", access_levels),\n  skip = 1, show_col_types = FALSE\n) |&gt; \n  filter(is.na(country_code), region_name != \"Bonaire, Sint Eustatius and Saba\") |&gt;\n  select(-country_code) |&gt;\n  pivot_longer(safe:surface, names_to = \"access\", values_to = \"pcnt\") |&gt;\n  mutate(access = factor(access, access_levels),\n         pcnt = round(pcnt, 2)) |&gt;\n  separate(region_name, c(\"region\", \"region_type\"), sep = \"\\\\(|\\\\)\", extra = \"drop\", fill = \"right\") |&gt;\n  mutate(region_type = replace_na(region_type, \"DEV\"),\n         region = trimws(region))\n\n\n\nwater_regions.csv\n\n\n\n\nTable 6.2: The first rows of water_regions\n\n\n\n\n\nregion\nregion_type\nyear\naccess\npcnt\n\n\n\nAfrica\nWHO\n2000\nsafe\n19.31\n\n\nAfrica\nWHO\n2000\nbasic\n28.48\n\n\nAfrica\nWHO\n2000\nlimited\n8.81\n\n\nAfrica\nWHO\n2000\nunimproved\n25.89\n\n\nAfrica\nWHO\n2000\nsurface\n17.50\n\n\nAfrica\nWHO\n2001\nsafe\n19.61\n\n\n\n\n\n\n\n\n\n\nCoderegion_names &lt;- c(\"Low-income countries\", \n                  \"Lower-middle-income countries\",\n                  \"Upper-middle-income countries\", \n                  \"High-income countries\")\nregion_labels &lt;- c(\"low\", \"lower-middle\", \"upper-middle\", \"high\")\naccess_col &lt;- c(\"#26BDE2\", \"#4C9F38\", \"#DDA63A\", \"#FD6925\", \"#DD1367\")\n\nwater_regions |&gt; \n  filter(grepl(\"income\", region)) |&gt;\n  mutate(region = factor(region, region_names, region_labels)) |&gt;\n  ggplot(aes(x = year, y = pcnt, fill = access)) +\n  geom_area() +\n  facet_wrap(~region, ncol = 4) +\n  scale_x_continuous(breaks = seq(2000, 2020, 10)) +\n  scale_fill_manual(values = access_col) +\n  guides(fill = guide_legend(position = \"inside\")) +\n  labs(x = NULL, y = NULL, fill = NULL) +\n  theme(axis.text.x = element_text(angle = -45, hjust = 0),\n        legend.background = element_blank(),\n        legend.position.inside = c(.87,.75),\n        legend.text = element_text(color = \"white\", face = \"bold\"))\n\n\n\n\n\n\nFigure 6.2: Water access by development level from 2000 to 2022",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Clean Water and Sanitation</span>"
    ]
  },
  {
    "objectID": "06-clean-water.html#resources",
    "href": "06-clean-water.html#resources",
    "title": "\n6  Clean Water and Sanitation\n",
    "section": "\n6.3 Resources",
    "text": "6.3 Resources\n\nOWiD Drinking Water Access",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Clean Water and Sanitation</span>"
    ]
  },
  {
    "objectID": "07-clean-energy.html",
    "href": "07-clean-energy.html",
    "title": "7  Affordable and Clean Energy",
    "section": "",
    "text": "7.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Affordable and Clean Energy</span>"
    ]
  },
  {
    "objectID": "07-clean-energy.html#simplified-subsets",
    "href": "07-clean-energy.html#simplified-subsets",
    "title": "7  Affordable and Clean Energy",
    "section": "7.2 Simplified Subsets",
    "text": "7.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Affordable and Clean Energy</span>"
    ]
  },
  {
    "objectID": "07-clean-energy.html#resources",
    "href": "07-clean-energy.html#resources",
    "title": "7  Affordable and Clean Energy",
    "section": "7.3 Resources",
    "text": "7.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Affordable and Clean Energy</span>"
    ]
  },
  {
    "objectID": "08-decent-work.html",
    "href": "08-decent-work.html",
    "title": "8  Decent Work and Economic Growth",
    "section": "",
    "text": "8.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Decent Work and Economic Growth</span>"
    ]
  },
  {
    "objectID": "08-decent-work.html#simplified-subsets",
    "href": "08-decent-work.html#simplified-subsets",
    "title": "8  Decent Work and Economic Growth",
    "section": "8.2 Simplified Subsets",
    "text": "8.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Decent Work and Economic Growth</span>"
    ]
  },
  {
    "objectID": "08-decent-work.html#resources",
    "href": "08-decent-work.html#resources",
    "title": "8  Decent Work and Economic Growth",
    "section": "8.3 Resources",
    "text": "8.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Decent Work and Economic Growth</span>"
    ]
  },
  {
    "objectID": "09-industry.html",
    "href": "09-industry.html",
    "title": "9  Industry, Innovation and Infrastructure",
    "section": "",
    "text": "9.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Industry, Innovation and Infrastructure</span>"
    ]
  },
  {
    "objectID": "09-industry.html#simplified-subsets",
    "href": "09-industry.html#simplified-subsets",
    "title": "9  Industry, Innovation and Infrastructure",
    "section": "9.2 Simplified Subsets",
    "text": "9.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Industry, Innovation and Infrastructure</span>"
    ]
  },
  {
    "objectID": "09-industry.html#resources",
    "href": "09-industry.html#resources",
    "title": "9  Industry, Innovation and Infrastructure",
    "section": "9.3 Resources",
    "text": "9.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Industry, Innovation and Infrastructure</span>"
    ]
  },
  {
    "objectID": "10-reduced-inequalities.html",
    "href": "10-reduced-inequalities.html",
    "title": "10  Reduced Inequalities",
    "section": "",
    "text": "10.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Reduced Inequalities</span>"
    ]
  },
  {
    "objectID": "10-reduced-inequalities.html#simplified-subsets",
    "href": "10-reduced-inequalities.html#simplified-subsets",
    "title": "10  Reduced Inequalities",
    "section": "10.2 Simplified Subsets",
    "text": "10.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Reduced Inequalities</span>"
    ]
  },
  {
    "objectID": "10-reduced-inequalities.html#resources",
    "href": "10-reduced-inequalities.html#resources",
    "title": "10  Reduced Inequalities",
    "section": "10.3 Resources",
    "text": "10.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Reduced Inequalities</span>"
    ]
  },
  {
    "objectID": "11-sustainable-cities.html",
    "href": "11-sustainable-cities.html",
    "title": "11  Sustainable Cities and Communities",
    "section": "",
    "text": "11.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Sustainable Cities and Communities</span>"
    ]
  },
  {
    "objectID": "11-sustainable-cities.html#simplified-subsets",
    "href": "11-sustainable-cities.html#simplified-subsets",
    "title": "11  Sustainable Cities and Communities",
    "section": "11.2 Simplified Subsets",
    "text": "11.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Sustainable Cities and Communities</span>"
    ]
  },
  {
    "objectID": "11-sustainable-cities.html#resources",
    "href": "11-sustainable-cities.html#resources",
    "title": "11  Sustainable Cities and Communities",
    "section": "11.3 Resources",
    "text": "11.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Sustainable Cities and Communities</span>"
    ]
  },
  {
    "objectID": "12-responsible-consumption.html",
    "href": "12-responsible-consumption.html",
    "title": "12  Responsible Consumption and Production",
    "section": "",
    "text": "12.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Responsible Consumption and Production</span>"
    ]
  },
  {
    "objectID": "12-responsible-consumption.html#simplified-subsets",
    "href": "12-responsible-consumption.html#simplified-subsets",
    "title": "12  Responsible Consumption and Production",
    "section": "12.2 Simplified Subsets",
    "text": "12.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Responsible Consumption and Production</span>"
    ]
  },
  {
    "objectID": "12-responsible-consumption.html#resources",
    "href": "12-responsible-consumption.html#resources",
    "title": "12  Responsible Consumption and Production",
    "section": "12.3 Resources",
    "text": "12.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Responsible Consumption and Production</span>"
    ]
  },
  {
    "objectID": "13-climate-action.html",
    "href": "13-climate-action.html",
    "title": "13  Climate Action",
    "section": "",
    "text": "13.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Climate Action</span>"
    ]
  },
  {
    "objectID": "13-climate-action.html#simplified-subsets",
    "href": "13-climate-action.html#simplified-subsets",
    "title": "13  Climate Action",
    "section": "13.2 Simplified Subsets",
    "text": "13.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Climate Action</span>"
    ]
  },
  {
    "objectID": "13-climate-action.html#resources",
    "href": "13-climate-action.html#resources",
    "title": "13  Climate Action",
    "section": "13.3 Resources",
    "text": "13.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Climate Action</span>"
    ]
  },
  {
    "objectID": "14-water-life.html",
    "href": "14-water-life.html",
    "title": "14  Life Below Water",
    "section": "",
    "text": "14.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Life Below Water</span>"
    ]
  },
  {
    "objectID": "14-water-life.html#simplified-subsets",
    "href": "14-water-life.html#simplified-subsets",
    "title": "14  Life Below Water",
    "section": "14.2 Simplified Subsets",
    "text": "14.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Life Below Water</span>"
    ]
  },
  {
    "objectID": "14-water-life.html#resources",
    "href": "14-water-life.html#resources",
    "title": "14  Life Below Water",
    "section": "14.3 Resources",
    "text": "14.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Life Below Water</span>"
    ]
  },
  {
    "objectID": "15-land-life.html",
    "href": "15-land-life.html",
    "title": "15  Life on Land",
    "section": "",
    "text": "15.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Life on Land</span>"
    ]
  },
  {
    "objectID": "15-land-life.html#simplified-subsets",
    "href": "15-land-life.html#simplified-subsets",
    "title": "15  Life on Land",
    "section": "15.2 Simplified Subsets",
    "text": "15.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Life on Land</span>"
    ]
  },
  {
    "objectID": "15-land-life.html#resources",
    "href": "15-land-life.html#resources",
    "title": "15  Life on Land",
    "section": "15.3 Resources",
    "text": "15.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Life on Land</span>"
    ]
  },
  {
    "objectID": "16-peace-justice.html",
    "href": "16-peace-justice.html",
    "title": "16  Peace, Justice and Strong Institutions",
    "section": "",
    "text": "16.1 Original Data",
    "crumbs": [
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Peace, Justice and Strong Institutions</span>"
    ]
  },
  {
    "objectID": "16-peace-justice.html#simplified-subsets",
    "href": "16-peace-justice.html#simplified-subsets",
    "title": "16  Peace, Justice and Strong Institutions",
    "section": "16.2 Simplified Subsets",
    "text": "16.2 Simplified Subsets",
    "crumbs": [
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Peace, Justice and Strong Institutions</span>"
    ]
  },
  {
    "objectID": "16-peace-justice.html#resources",
    "href": "16-peace-justice.html#resources",
    "title": "16  Peace, Justice and Strong Institutions",
    "section": "16.3 Resources",
    "text": "16.3 Resources",
    "crumbs": [
      "<span class='chapter-number'>16</span>  <span class='chapter-title'>Peace, Justice and Strong Institutions</span>"
    ]
  }
]